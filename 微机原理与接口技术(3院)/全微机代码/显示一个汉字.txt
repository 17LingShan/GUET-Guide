 DATA	SEGMENT
BUFF	DB	0B9H,0F0H
ADDS1	DB	82H
LEN1	EQU	$-ADDS1



DATA	ENDS

CODE	SEGMENT
	ASSUME	CS:CODE,DS:DATA
START:MOV	AX,DATA
	MOV	DS,AX
	MOV	AL,80H         ;8255初始化
	MOV	DX,28BH
	OUT	DX,AL

	MOV	BL,01H         ;12864初始化
	CALL	WRITE_COM
	MOV	BL,0CH
	CALL	WRITE_COM

	MOV	CX,LEN1       
	LEA	SI,BUFF
	LEA	DI,ADDS1
ATUR:	MOV	BL,[DI]
	CALL	WRITE_COM
	MOV	BL,[SI]
	CALL	WRITE_DATA
	INC	SI
	MOV	BL,[SI]
	CALL	WRITE_DATA
	INC	SI
	INC	DI
	LOOP	ATUR

	
WRITE_COM	PROC	NEAR
	MOV	AL,BL
	MOV	DX,288H
	OUT	DX,AL
	MOV	AL,00H
	MOV	DX,28AH
	OUT	DX,AL
	CALL	DELAY
	MOV	AL,04H
	MOV	DX,28AH
	OUT	DX,AL	
	CALL	DELAY
	MOV	AL,00H
	MOV	DX,28AH
	OUT	DX,AL	
	CALL	DELAY
		RET
WRITE_COM	ENDP

WRITE_DATA	PROC	NEAR
	MOV	AL,BL
	MOV	DX,288H
	OUT	DX,AL	
	MOV	AL,01H
	MOV	DX,28AH			
	OUT	DX,AL
	CALL	DELAY
	MOV	AL,05H
	MOV	DX,28AH
	OUT	DX,AL	
	CALL	DELAY
	MOV	AL,01H
	MOV	DX,28AH
	OUT	DX,AL	
	CALL	DELAY
		RET
WRITE_DATA	ENDP 

DELAY	PROC	NEAR
	PUSH	CX
	MOV	CX,0FFH
LOOP1:LOOP	LOOP1
	POP	CX
	RET
DELAY	ENDP
CODE	ENDS
	END	START  